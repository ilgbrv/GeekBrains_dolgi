Описание базы данных для школьного кабинета

Структура базы данных 
Кабинет → Информация о партах в кабинете.
Ученик → Данные о учениках.
Рассадка → Сводная таблица, фиксирующая, кто и где сидел в конкретное время.

1. Таблица Кабинет (описание мест в классе)
Эта таблица хранит информацию о местах в кабинете:

ряды,
парты,
варианты (левая/правая сторона).
CREATE TABLE Кабинет (
    id INT PRIMARY KEY AUTO_INCREMENT,  -- Уникальный ID места
    ряд INT NOT NULL,                   -- Номер ряда
    парта INT NOT NULL,                  -- Номер парты
    вариант ENUM('Левый', 'Правый') NOT NULL -- Вариант (место слева или справа)
);

Пример данных:

id	ряд	парта	вариант
1	1	1	Левый
2	1	1	Правый
3	1	2	Левый
4	1	2	Правый


2. Таблица Ученик (ученики школы)
Хранит данные о школьниках.
CREATE TABLE Ученик (
    id INT PRIMARY KEY AUTO_INCREMENT,  -- Уникальный ID ученика
    ФИО VARCHAR(100) NOT NULL,          -- Фамилия Имя Отчество
    класс VARCHAR(10) NOT NULL,         -- Класс (например, "7А", "9Б")
    дата_рождения DATE,                 -- Дата рождения
    пол ENUM('М', 'Ж')                  -- Пол (Мужской/Женский)
);

Пример данных:

id	ФИО	класс	дата_рождения	пол
1	Иванов Иван	7А	2010-04-15	М
2	Петрова Анна	7А	2010-07-22	Ж
3	Сидоров Алексей	8Б	2009-09-10	М


3. Таблица Рассадка (фиксация мест учеников во времени)
Фиксирует, кто сидел за какой партой в какой день и на каком уроке.

CREATE TABLE Рассадка (
    id INT PRIMARY KEY AUTO_INCREMENT,  -- Уникальный ID записи
    id_ученика INT NOT NULL,            -- ID ученика
    id_места INT NOT NULL,              -- ID места в кабинете
    дата DATE NOT NULL,                 -- Дата занятия
    начало_урока TIMESTAMP NOT NULL,    -- Время начала урока
    конец_урока TIMESTAMP NOT NULL,     -- Время окончания урока
    FOREIGN KEY (id_ученика) REFERENCES Ученик(id) ON DELETE CASCADE,
    FOREIGN KEY (id_места) REFERENCES Кабинет(id) ON DELETE CASCADE
);

Пример данных:

id	id_ученика	id_места	дата	начало_урока	конец_урока
1	1	3	2024-02-12	08:00:00	08:45:00
2	2	4	2024-02-12	08:00:00	08:45:00
3	1	3	2024-02-12	09:00:00	09:45:00


Запросы
1. Кто сидел за конкретной партой в определённое время?
SELECT Ученик.ФИО, Рассадка.начало_урока, Рассадка.конец_урока
FROM Рассадка
JOIN Ученик ON Рассадка.id_ученика = Ученик.id
WHERE Рассадка.id_места = 3
AND Рассадка.дата = '2024-02-12';

2. Где сидел конкретный ученик в определённый день?
SELECT Кабинет.ряд, Кабинет.парта, Кабинет.вариант, Рассадка.начало_урока, Рассадка.конец_урока
FROM Рассадка
JOIN Кабинет ON Рассадка.id_места = Кабинет.id
WHERE Рассадка.id_ученика = 1
AND Рассадка.дата = '2024-02-12';


3. Какие ученики сидели в классе в 8:00 12 февраля 2024?
SELECT Ученик.ФИО, Кабинет.ряд, Кабинет.парта, Кабинет.вариант
FROM Рассадка
JOIN Ученик ON Рассадка.id_ученика = Ученик.id
JOIN Кабинет ON Рассадка.id_места = Кабинет.id
WHERE Рассадка.дата = '2024-02-12'
AND '08:00:00' BETWEEN Рассадка.начало_урока AND Рассадка.конец_урока;

4. Освободилось ли место (ряд 1, парта 1, левый вариант) в 10:00?
SELECT COUNT(*) AS Занятость
FROM Рассадка
JOIN Кабинет ON Рассадка.id_места = Кабинет.id
WHERE Кабинет.ряд = 1 AND Кабинет.парта = 1 AND Кабинет.вариант = 'Левый'
AND '10:00:00' BETWEEN Рассадка.начало_урока AND Рассадка.конец_урока;












